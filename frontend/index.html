<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>HormigasAIS - Video Intelligence Checker</title>
</head>
<body>
    <h1>Analizador de Videos - XOXO AI</h1>

    <label for="videoIds">Ingrese IDs de videos separados por coma:</label>
    <input type="text" id="videoIds" placeholder="video1,video2,video3">
    <button id="analizarBtn">Analizar Videos</button>

    <h2>Resultados:</h2>
    <pre id="resultados"></pre>

    <script>
        const btn = document.getElementById("analizarBtn");
        const resultadosEl = document.getElementById("resultados");

        btn.addEventListener("click", async () => {
            resultadosEl.textContent = "Procesando videos...\n";

            const videoIds = document.getElementById("videoIds").value
                .split(",")
                .map(v => v.trim())
                .filter(v => v.length > 0);

            if(videoIds.length === 0){
                resultadosEl.textContent = "Por favor ingrese al menos un ID de video.";
                return;
            }

            try {
                // Construir query params
                const query = videoIds.map(v => `videos=${v}`).join("&");
                const response = await fetch(`/analizar/?${query}`);
                const data = await response.json();

                resultadosEl.textContent = JSON.stringify(data, null, 2);
            } catch (err) {
                resultadosEl.textContent = "Error al procesar los videos: " + err;
            }
        });
    </script>
</body>
</html>
